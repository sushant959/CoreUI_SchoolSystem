
@{
    ViewBag.Title = "GeneralSettings";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    List<string> actions = ViewBag.FeatureActions as List<string>;
}

<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.
      min.css" />
<script type="text/javascript" src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<div data-toggle="buttons">
    <div class="btn-toolbar">
        <label class="btn btn-default active">
            <input type="radio" name="Tab" data-value="BatchDetails" data-text="Batch details" autocomplete="off" checked>Batch
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="FacultyDetails" data-text="Faculty details" autocomplete="off" />Faculty
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="ClassDetails" data-text="Class details" autocomplete="off" />Class
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="SectionDetails" data-text="Section details" autocomplete="off" />Section
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="FeeStructureDetails" data-text="Fee Structure details" autocomplete="off" />Fee Structure
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="ClassFeeDetails" data-text="Class Fee details" autocomplete="off" />Class Fee
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="CountryDetails" data-text="Country details" autocomplete="off" />Country
        </label><br />

        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="StateDetails" data-text="State details" autocomplete="off" />State
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="StudentType" data-text="Student Type" autocomplete="off" />Student Type
        </label>

        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="ResponseText" data-text="Response Text" autocomplete="off" />Response Text
        </label>
    </div>
    <div class="btn-toolbar">
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="DayOff" data-text="Day Off" autocomplete="off" />Non-Working Day
        </label>
        <label class="btn btn-default">
            <input type="radio" name="Tab" data-value="StartDate" data-text="Start Date" autocomplete="off" />Start Date
        </label>
    </div>
</div>

<br /><br />
@*/////////////////////////////----------Batch Details (Start)-----------/////////////////////////////////////*@
@if (actions.Contains("report"))
{
    <div id="batchResult">
        <div class="row">
            <div class="col-sm-3">
                <h4 id="batchname"></h4>
            </div>
        </div>
        <div class="card p-3">
            <div style="width:100%;overflow:auto; max-height:80vh">
                <table id="tblBatch" class="table table-bordered">
                    <thead></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
}
@if (actions.Contains("add"))
{
    <div class="row" id="divBatchDetails">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <div class="card p-3">
                <div class="class-body">

                    <h4 class="card-title">Add Batch</h4><hr />
                    <form id="frmBatch" class="form-row">

                        <input type="hidden" name="CompanyId" id="companyid" value="" />
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">From Year</label>
                                </div>
                                <input type="text" name="FromYear" class="form-control" placeholder="From Year" id="fromYear" required onkeypress="return isNumberKey(event)" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">To Year</label>
                                </div>
                                <input type="text" name="ToYear" class="form-control" placeholder="To Year" id="toYear" required onkeypress="return isNumberKey(event)" />
                                <button class="btn btn-primary" id="btnSaveBatch" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
}
    <div id="divStartDate">
        <br />
        <div class="col-md-8 offset-2">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Start Date</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {
                    <form id="frmStartDate" class="form-row">
                        <input type="hidden" name="StartDateId" value="" />
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Batch</label>
                                </div>
                                <select id="startDateBatch" name="Batch" class="form-control"></select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Start Date</label>
                                </div>
                                <input type="text" id="startdate" name="Date" placeholder="साल-महिना-गते" class="form-control nepali-calendar" />
                                <button class="btn btn-primary" id="btnSaveStartDate" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>

                    </form>
                    }
                    @if (actions.Contains("report"))
                    {
                    <hr />
                    <h5>List of Start Date</h5>
                    <table id="tblStartDate" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>
    @*////////////////////////////-----------Batch Details (End)-------------///////////////////////////////////////*@

    @*////////////////////////////-----------Class Details (Start)-----------///////////////////////////////////////*@
    <div id="divClassDetails">
        <br />
        <div class="col-md-8 offset-2">
            <div class="card">
                <div class="card-body">
                    @if (actions.Contains("add"))
                    {
                    <h4 class="card-title">Manage Class</h4><hr />
                    <form id="formClassDetails">
                        <div class="form-row mb-2">
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Class Name</label>
                                    </div>
                                    <input type="text" name="ClassName" class="form-control" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Class Code</label>
                                    </div>
                                    <input type="text" name="ClassCode" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="form-row mb-2">
                            <div class="col-md-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Class Type</label>
                                    </div>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary active">
                                            <input type="radio" name="ClassType" value="Yearly" id="option1" autocomplete="off" checked> Yearly
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" name="ClassType" value="Semester" id="option2" autocomplete="off"> Semester
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" name="ClassType" value="Trimester" id="option3" autocomplete="off"> Trimester
                                        </label>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="form-row mb-2">
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Student Limit</label>
                                    </div>
                                    <input type="text" name="StudentLimit" class="form-control" onkeypress="return isNumberKey(event)" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Faculty Name</label>
                                    </div>
                                    <select name="FacultyId" class="form-control" id="selectClassFaculty"></select>
                                    <button class="btn btn-primary" id="btnSaveClassDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>
                                </div>
                            </div>
                        </div>
                    </form>
                    }
                    <hr />
                    @if (actions.Contains("report"))
                    {
                    <h5 class="titlename">List of all Class</h5>
                    <table id="tblClassDetails" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>
        </div>
    </div>


    @*///////////////////////////------------Class Details (End)-------------/////////////////////////////////////////*@

    @*///////////////////////////------------Faculty Details (start)-------------/////////////////////////////////////////*@
    <div id="divFacultyDetails">
        <br />
        <div class="col-md-8 offset-2">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Faculty</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {
                    <form id="formFacultyDetails" class="form-row">
                        <input type="hidden" name="CompanyId" value="" />
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Faculty Name</label>
                                </div>
                                <input type="text" name="FacultyName" class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Faculty Code</label>
                                </div>
                                <input type="text" name="FacultyCode" class="form-control" />
                                <button class="btn btn-primary" id="btnSaveFacultyDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>

                    </form>
                    }
                    @if (actions.Contains("report"))
                    {
                    <hr />
                    <h5>List of all Faculty</h5>
                    <table id="tblFacultyDetails" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>

    @*///////////////////////////------------Faculty Details (End)-------------/////////////////////////////////////////*@

    @*///////////////////////////------------Section Details (start)-------------/////////////////////////////////////////*@

    <div id="divSectionDetails">
        <br />
        <div class="col-md-8 offset-2">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Section</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {
                    <form id="formSectionDetails" class="form-row">
                        <input type="hidden" name="CompanyId" value="" />
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Section Name</label>
                                </div>
                                <input type="text" name="SectionName" class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Student Limit</label>
                                </div>
                                <input type="text" name="StudentLimit" class="form-control" onkeypress="return isNumberKey(event)" />
                                <button class="btn btn-primary" id="btnSaveSectionDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>

                    </form>
                    }
                    @if (actions.Contains("report"))
                    {
                    <hr />
                    <h5>List of all Section</h5>
                    <table id="tblSectionDetails" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>




    @*///////////////////////////------------Section Details (End)-------------/////////////////////////////////////////*@


    <div id="divFeeStructureDetails">
        <div class="form-row">
            <label style="flex:1.3">
                <input type="radio" name="FeeManagement" value="" id="feeStructure" />
                <label for="ClassType1" class="radio-label">Fee Structure Management</label>
                &nbsp; &nbsp; &nbsp;

                <input type="radio" name="FeeManagement" value="" id="feeManagement" required />
                <label for="ClassType2" class="radio-label">Fee Management</label>
                &nbsp; &nbsp; &nbsp;
            </label>

        </div>
        <div id="divfeestructure">
            <div class="col-md-6 offset-3">
                <div class="card">
                    <div class="card-body">
                        @if (actions.Contains("add"))
                        {
                        <h4 class="card-title">Manage Fee Structure</h4>
                        <hr />
                        <form id="formfeestructure" class="form-row">
                            <input type="hidden" name="CompanyId" value="" />
                            <div class="col-md-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text">Fee Structure Name</label>
                                    </div>
                                    <input type="text" name="FeeStructureName" class="form-control" />
                                    <button class="btn btn-primary" id="btnSaveFeeStructureDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>
                                </div>
                            </div>

                        </form>
                        }
                        @if (actions.Contains("report"))
                        {
                        <hr />
                        <h5>List of all Fee Structure</h5>
                        <table id="tblFeeStructureDetails" class="table table-bordered">
                            <thead></thead>
                            <tbody></tbody>
                        </table>
                        }
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="divfeemanagement">
        <br />
        <div class="col-md-10 offset-1">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Fee</h4><hr />
                     @if (actions.Contains("add"))
                     {
                    <form id="formFeeDetails">
                        <div class="form-row mb-2">
                            <div class="col-md-6">
                                <input type="hidden" name="CompanyId" />
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Fee Structure</label>
                                    </div>
                                    <select type="text" name="FeeStructureName" id="selectFeeStructure" class="form-control"></select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Student Type</label>
                                    </div>
                                    <select type="text" name="StudentType" id="selectStudentType" class="form-control"></select>
                                </div>
                            </div>
                        </div>

                        <div class="form-row mb-2">
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Fee Name</label>
                                    </div>
                                    <input type="text" name="FeeName" class="form-control" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Amount</label>
                                    </div>
                                    <input type="text" name="Amount" class="form-control" onkeypress="return isNumberKey(event)" />
                                </div>
                            </div>
                        </div>
                        <div class="form-row mb-2">
                            <div class="col-md-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Refundable</label>
                                    </div>
                                    <select class="form-control" name="Refundable" id="selectRefundable">
                                        <option value="">Select</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <button class="btn btn-primary pull-right" id="btnSaveFeeDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>

                            </div>
                        </div>

                    </form>
                     }
                    <hr />
                    @if (actions.Contains("report"))
                    {
                    <h5 class="titlename">List of all Fee Details</h5>
                    <div class="row" style="margin-bottom:10px;">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-4">
                            <div class="input-group mt-2">
                                <div class="input-group-prepend">
                                    <label class="input-group-text" style="width:100px">FeeStructure</label>
                                </div>
                                <select id="searchFeeStructureName" class="form-control"></select>

                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group mt-2">
                                <div class="input-group-prepend">
                                    <label class="input-group-text" style="width:100px">StudentType</label>
                                </div>
                                <select id="searchStudentType" class="form-control"></select>

                            </div>
                        </div>
                        <div class="col-sm-2">
                            <button class="btn btn-default btn-block" style="margin-top:5px;" id="btnSearchFee" type="submit" data-name="">Search</button>
                        </div>
                    </div>
                    <table id="tblFeeDetails" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>
        </div>
    </div>
    @*///////////////////////////------------Fee Management (End)-------------/////////////////////////////////////////*@
    <div id="divClassFeeDetails">
        @if (actions.Contains("add"))
        {
        <button class="btn btn-default pull-right" id="addClassFee">Add Class Fee</button>
        }
        @if (actions.Contains("report"))
        {
        <div>
            <h4 class="clearfix">List of all Class Fee</h4>
            <div class="card p-2">
                <div class="row" style="margin-bottom:10px;">
                    <div class="col-sm-3">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:70px">Batch</label>
                            </div>
                            <select id="searchBatch" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:70px">Faculty</label>
                            </div>
                            <select id="searchFaculty" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:70px">Class</label>
                            </div>
                            <select id="searchClass" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-2">
                        <button class="btn btn-default btn-block" style="margin-top:5px;" id="btnSearchClassFee" type="submit" data-name="">Search</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div style="width:100%;overflow:auto;">
                            <table id="tblClassFeeDetails" class="table table-bordered table-striped"></table>
                        </div>
                    </div>

                </div>
            </div>

        </div>
        }
    </div>


    <div class="row" id="formClassFee">
        <div class="col-md-1"></div>
        <div class="col-md-10 card p-3">
            <h4 class="card-title" id="titleFormClassFee">Add Class Fee</h4>
            <hr />
            <form id="formFeeClassDetails">
                <div class="form-row">
                    <input type="hidden" name="CompanyId" value="" />
                    <input type="hidden" id="classfeeid" name="BatchClassId" />
                    <div class="col-md-4">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text">Batch</label>
                            </div>
                            <select class="form-control" name="Batch" id="selectBatch"></select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text">Class</label>
                            </div>
                            <select class="form-control" name="Class" id="selectClass"></select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text">Faculty</label>
                            </div>
                            <select class="form-control" name="Faculty" id="selectFaculty"></select>
                        </div>
                    </div>
                </div>
                <div class="form-row" id="tblFee">

                </div>
                <div class="form-group" id="classfeefooter">
                    <div class="col-sm-12 text-center">
                        <input type="submit" value="Submit" class="btn btn-default" id="btnSaveClassFeeDetails" />
                        <input type="button" class="btn btn-danger" style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif !important;
    border-radius:20px !important;" id="btnCancel" onclick="cancel()" value="Cancel" />
                    </div>
                </div>
            </form>
        </div>

    </div>


    <div id="divDayOff">
        @if (actions.Contains("add"))
        {
        <button class="btn btn-default pull-right" id="addDayOff">Add Non-Working Day</button>
        }
        @if (actions.Contains("report"))
        {
        <div>
            <h4 class="clearfix">List of all Non-Working Day</h4>
            <div class="card p-2">
                <div class="row" style="margin-bottom:10px;">
                    <div class="col-sm-3">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:70px">Batch</label>
                            </div>
                            <select id="searchDayoffBatch" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px">Department</label>
                            </div>
                            <select id="searchDayoffDepartment" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:70px">Faculty</label>
                            </div>
                            <select id="searchDayoffFaculty" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-2">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:70px">Class</label>
                            </div>
                            <select id="searchDayoffClass" class="form-control"></select>

                        </div>
                    </div>
                    <div class="col-sm-2">
                        <button class="btn btn-default btn-block" style="margin-top:5px;" id="btnSearchDayOff" type="submit" data-name="">Search</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div style="width:100%;overflow:auto;">
                            <table id="tblDayOff" class="table table-bordered table-striped"></table>
                        </div>
                    </div>

                </div>
            </div>

        </div>
        }
    </div>
    <div class="row" id="formDayOff">
        <div class="col-md-1"></div>
        <div class="col-md-10 card p-3">
            <h4 class="card-titel">Add Non-Working Day</h4>
            <hr />
            <form id="formDayOffDetails">
                <div class="form-row">
                    <input type="hidden" name="CompanyId" value="" />
                    <input type="hidden" id="dayoffid" name="DayOffId" />
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Batch</label>
                            </div>
                            <select class="form-control" name="Batch" id="dayoffBatch"></select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Title</label>
                            </div>
                            <input type="text" class="form-control" name="Title" />
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Date From</label>
                            </div>
                            <input type="text" id="datefrom" placeholder="साल-महिना-गते" class="form-control nepali-calendar" name="DateFrom" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Date To</label>
                            </div>
                            <input type="text" id="dateto" placeholder="साल-महिना-गते" class="form-control nepali-calendar" name="DateTo" />
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Department</label>
                            </div>
                            <select multiple="multiple" id="dayoffDepartment" class="form-control multiselect" name="Department[]"></select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Faculty</label>
                            </div>
                            <select multiple="multiple" id="dayoffFaculty" class="form-control multiselect" name="Faculty[]"></select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="input-group mt-2">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width:100px;">Class</label>
                            </div>
                            <select multiple="multiple" id="dayoffClass" class="form-control multiselect" name="Class[]"></select>
                        </div>
                    </div>

                </div>
                <div class="form-group" id="dayOfffooter">
                    <div class="col-sm-12 text-center">
                        <input type="submit" value="Submit" class="btn btn-default" id="btnSaveDayOff" />
                        <input type="button" class="btn btn-danger" style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif !important;
    border-radius:20px !important;" id="btnCancel" onclick="cancelDay()" value="Cancel" />
                    </div>
                </div>
            </form>
        </div>

    </div>

    <div id="divCountryDetails">
        <br />
        <div class="col-md-6 offset-3">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Country</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {
                    <form id="formCountryDetails" class="form-row">
                        <input type="hidden" name="CompanyId" value="" />
                        <div class="col-md-12">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Country Name</label>
                                </div>
                                <input type="text" name="CountryName" class="form-control" />
                                <button class="btn btn-primary" id="btnSaveCountryDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>
                    </form>
                    }
                    <hr />
                    @if (actions.Contains("report"))
                    {
                    <h5>List of all Country</h5>
                    <table id="tblCountryDetails" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>
    <div id="divStateDetails">
        <br />
        <div class="col-md-8 offset-2">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage State</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {
                    <form id="formStateDetails" class="form-row">
                        <input type="hidden" name="CompanyId" value="" />
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Country</label>
                                </div>
                                <select class="form-control" name="CountryName" id="selectCountry"></select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">State</label>
                                </div>
                                <input type="text" name="StateName" class="form-control" />
                                <button class="btn btn-primary" id="btnSaveStateDetails" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>

                    </form>
                    }
                    @if (actions.Contains("report"))
                    {
                    <hr />
                    <h5>List of all Faculty</h5>
                    <table id="tblStateDetails" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>

    <div id="divStudentType">
        <br />
        <div class="col-md-6 offset-3">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Student Type</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {

                    <form id="formstudenttype" class="form-row">
                        <input type="hidden" name="CompanyId" value="" />
                        <div class="col-md-12">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Student Type</label>
                                </div>
                                <input type="text" name="StudentTypeName" class="form-control" />
                                <button class="btn btn-primary" id="btnSaveStudentType" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>
                    </form>
                    }
                    @if (actions.Contains("report"))
                    {
                    <hr />
                    <h5>List of all Student Type</h5>
                    <table id="tblStudentType" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>

    <div id="divResponseText">
        <br />
        <div class="col-md-6 offset-3">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Manage Response Text</h4>
                    <hr />
                    @if (actions.Contains("add"))
                    {
                    <form id="formResponseText" class="form-row">
                        <input type="hidden" name="CompanyId" value="" />
                        <div class="col-md-12">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text">Response</label>
                                </div>
                                <textarea class="form-control" name="Response"></textarea>
                                <button class="btn btn-primary" id="btnSaveResponseText" type="submit" style="margin-left:10px;" data-name="">Add</button>
                            </div>
                        </div>
                    </form>
                    }
                    @if (actions.Contains("report"))
                    {
                    <hr />
                    <h5>List of all Response Text</h5>
                    <table id="tblResponseText" class="table table-bordered">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                    }
                </div>
            </div>

        </div>
    </div>


    @*///////////////////////////------------Fee Management (End)-------------/////////////////////////////////////////*@


    @*//////////////////////////////-----------Scholarship Management(Start)--*@
    <div id="modalDelete" class="modal fade" tabindex="-1" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"> &times; </button>
                    <h4 class="modal-title">Info</h4>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-warning modalclose" id="btnDeleteModal">Yes</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>


    <div id="modalInfo" class="modal fade" tabindex="-1" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close redirect" data-dismiss="modal"> &times; </button>
                    <h4 class="modal-title">Info</h4>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-warning modalclose redirect" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="modalEditClass" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Class</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalClassDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <input type="hidden" name="ClassId" />
                                <input type="hidden" name="CompanyId" value="" />
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Class Name</label>
                                    </div>
                                    <input type="text" class="form-control" name="ClassName" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Class Code</label>
                                    </div>
                                    <input type="text" class="form-control" name="ClassCode" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend mr-5">
                                        <label class="input-group-text" style="width:110px;">Class Type</label>
                                    </div>
                                    <label style="margin-top:10px;">
                                        <input type="radio" name="ClassType" value="Yearly" required />
                                        <label for="ClassType1" class="radio-label">Yearly</label>
                                        &nbsp; &nbsp; &nbsp;

                                        <input type="radio" name="ClassType" value="Semester" required />
                                        <label for="ClassType2" class="radio-label">Semester</label>
                                        &nbsp; &nbsp; &nbsp;

                                        <input type="radio" name="ClassType" value="Trimester" required />
                                        <label for="ClassType3" class="radio-label">Trimester</label>
                                    </label>&nbsp; &nbsp;
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Student Limit</label>
                                    </div>
                                    <input type="text" class="form-control" name="StudentLimit" onkeypress="return isNumberKey(event)" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Faculty Name</label>
                                    </div>
                                    <select class="form-control" name="FacultyId" id="modalClassFaculty"></select>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalClass" value="Update" />
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="modalEditFaculty" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Faculty</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalFacultyDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="FacultyId" />
                                    <input type="hidden" name="CompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Faculty Name</label>
                                    </div>
                                    <input type="text" class="form-control" name="FacultyName" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Faculty Code</label>
                                    </div>
                                    <input type="text" class="form-control" name="FacultyCode" />
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalFaculty" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>
    <div id="modalEditBatch" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Batch</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalBatchDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="BatchId" />
                                    <input type="hidden" name="CompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">From Year</label>
                                    </div>
                                    <input type="text" class="form-control" name="FromYear" required onkeypress="return isNumberKey(event)" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">To Year</label>
                                    </div>
                                    <input type="text" class="form-control" name="ToYear" required onkeypress="return isNumberKey(event)" />
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalBatch" value="Update" />
                        </div>



                    </form>

                </div>

            </div>
        </div>
    </div>
    <div id="modalEditSection" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Section</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalSectionDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="SectionId" />
                                    <input type="hidden" name="CompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Section Name</label>
                                    </div>
                                    <input type="text" class="form-control" name="SectionName" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Student Limit</label>
                                    </div>
                                    <input type="text" class="form-control" name="StudentLimit" onkeypress="return isNumberKey(event)" />
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalSection" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>

    <div id="modalEditStartDate" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Start Date</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalStartDate" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="StartDateId" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Batch</label>
                                    </div>
                                    <select id="modalStartDateBatch" name="Batch" class="form-control"></select>
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Start Date</label>
                                    </div>
                                    <input type="text" id="modalstartdate" placeholder="साल-महिना-गते" class="form-control nepali-calendar" name="Date" />
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalStartDate" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>

    <div id="modalEditState" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit State</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalStateDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="StateId" />
                                    <input type="hidden" name="CompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Country</label>
                                    </div>
                                    <select class="form-control" name="CountryName" id="modalcountryname"></select>
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">State</label>
                                    </div>
                                    <input type="text" class="form-control" name="StateName" />
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalState" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>



    <div id="modalEditFeeStructure" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Fee Structure</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalFeeStructureDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="FeeStructureId" />
                                    <input type="hidden" name="CompanyId" id="modalCompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Fee Structure</label>
                                    </div>
                                    <input type="text" class="form-control" name="FeeStructureName" id="modalFeeName" />
                                </div>

                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalFeeStructure" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>

    <div id="modalEditFee" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Fee Details</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalFee" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <input type="hidden" name="FeeId" />
                                <input type="hidden" name="CompanyId" value="" />
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Fee Structure</label>
                                    </div>
                                    <select class="form-control" name="FeeStructureName" id="selectmodalFeeStructure"></select>
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Student Type</label>
                                    </div>
                                    <select class="form-control" name="StudentType" id="selectmodalStudentType"></select>
                                </div>

                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Fee Name</label>
                                    </div>
                                    <input type="text" class="form-control" name="FeeName" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Amount</label>
                                    </div>
                                    <input type="text" class="form-control" name="Amount" onkeypress="return isNumberKey(event)" />
                                </div>
                                <div class="input-group mt-2">

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Refundable</label>
                                    </div>
                                    <select class="form-control" name="Refundable" id="selectmodalRefundable">
                                        <option value="">Select</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalFee" value="Update" />
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="modalEditCountry" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Country</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalCountryDetails" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="CountryId" />
                                    <input type="hidden" name="CompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Country Name</label>
                                    </div>
                                    <input type="text" class="form-control" name="CountryName" id="modalCountryName" />
                                </div>

                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalCountry" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>

    <div id="modalEditResponsetext" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Response Text</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="ResponseTextId" />

                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Response</label>
                                    </div>
                                    <textarea class="form-control" name="Response" id="modalresponsetext"></textarea>
                                </div>

                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalResponse" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>

    <div id="modalEditStudentType" class="modal fade addModule-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Student Type</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="formModalStudentType" style="text-align:left">
                        <div class="row" style="margin-left:10px;">
                            <div class="col-md-12">
                                <div class="input-group mt-2">
                                    <input type="hidden" name="StudentTypeId" />
                                    <input type="hidden" name="CompanyId" value="" />
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width:110px;">Student Type</label>
                                    </div>
                                    <input type="text" class="form-control" name="StudentTypeName" id="modalStudentType" />
                                </div>

                            </div>
                        </div>
                        <div class="d-flex mt-3" style="justify-content:center">
                            <input type="submit" class="btn btn-default w-25" id="btnEditModalStudentType" value="Update" />
                        </div>



                    </form>

                </div>


            </div>
        </div>
    </div>


    <div class="modal fade" tabindex="-1" id="modalCancel1"
         data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"> &times; </button>
                    <h4 class="modal-title" id="modal-title">Info</h4>
                </div>
                <div class="modal-body" id="modal-body">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-warning modalclose" id="btnCancelModal1" style="width:100px">Yes</button>
                    <button type="button" class="btn btn-danger" id="close" data-dismiss="modal" style="width:100px">No</button>

                </div>
            </div>
        </div>
    </div>
    <script>
    $(document).ready(function () {
        debugger;
        $('.nepali-calendar').nepaliDatePicker();
        var listType = $("input[name='Tab']:checked").data('value');
        var batchname = $("input[name='Tab']:checked").data('text');
        debugger;
        $("#batchname").html("List of all " + batchname);
        var companyid=@Session["CompanyId"];
        hideAll();
        loadData(listType, companyid);
        $('.multiselect').on('mousedown','option', function (e) {
            e.preventDefault();
            $(this).prop('selected', !$(this).prop('selected'));
            return false;
        });
    })

    $("input[name ='Tab']").on('change', function () {
        debugger;
        var listType = $("input[name='Tab']:checked").data('value');
        var titlename = $("input[name='Tab']:checked").data('text');
        debugger;
        hideAll();
        debugger;
        if (listType == "FeeStructureDetails") {
            $("#feeStructure").prop("checked", true);
        }
        else if (listType == "StateDetails") {
            debugger;
            getAllCountry();
        }
        else if (listType == "ClassFeeDetails") {
            getClassBatchFaculty();
        }
        else if (listType == "ClassDetails") {
            getFaculty('@Session["CompanyId"]');
        }
        else if(listType == "StartDate"){
            getClassBatchFaculty();
        }
        else if (listType == "DayOff") {
            $("#divSummary").empty();
            getTotalHoliday();
        }
        debugger;
        loadData(listType, '@Session["CompanyId"]');
    })

    var getTotalHoliday = function () {
        $.ajax({
            url: "/api/GetTotalHolidays",
            method: "GET",
            dataType: "json",
            success: function (result) {
                debugger;
                var classHoliday = result[0];
                var deptHoliday = result[1];
                $("#divSummary").empty();

                for (var r in classHoliday) {
                    $("#divSummary").append(
                        `<div class="col-md-3"  style="margin-left:20px">
                    <span>Class: ${classHoliday[r]["Class"]}</span>
                </div >
                <div class="col-md-3">
                    <span>Total Holidays : ${classHoliday[r]["Total"]}</span>
                </div ><br/>`);
                }

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    var loadData = function (urlName, companyid) {
        debugger;
        $.ajax({
            url: "/api/GetSettingDetails",
            method: "Get",
            data: { urlName: urlName.toLowerCase(), CompanyId: companyid },
            dataType: "json",
            success: function (result) {
                debugger;
                if (result == 0 && urlName == "BatchDetails") {
                    debugger;
                    $("#divBatchDetails").show();
                    showResultData(result);
                }

                else {
                    debugger;
                    if (urlName == "BatchDetails") {
                        $("#batchResult").show();
                        $("#div" + urlName).hide();
                        showResultData(result);
                    }
                    else if (urlName == "FeeStructureDetails") {
                        $("#div" + urlName).show();
                        $("#divfeestructure").show();
                        showResultData(result);
                    }
                    else if (urlName == "StartDate") {
                        $("#div" + urlName).show();
                        showResultData(result);
                    }
                    else if (urlName == "ClassFeeDetails") {

                        $("#div" + urlName).show();
                        showClassFeeData(result);
                    }
                    else if(urlName == "DayOff"){
                        $("#div" + urlName).show();
                        getClassBatchFaculty();
                        $.ajax({
                            url: "/api/GetAllDesignation",
                            method: "GET",
                            data: {
                                 CompanyId:@Session["CompanyId"],
                            },
                            dataType: "json",
                            success: function (result) {
                                debugger;
                                var department = result[0];
                                var designation = result[1];
                                if (department != undefined) {
                                    debugger;
                                    var v = "<option value=''>--select--</option>";
                                    for (var i in department) {
                                        v += "<option value=" + department[i]['Department'] + ">" + department[i]['Department'] + "</option>";
                                    }
                                    $("#searchDayoffDepartment").html(v);
                                }

                            }
                        })

                        showDayOffData(result);
                    }
                    else {
                        $("#div" + urlName).show();
                        showResultData(result);
                    }


                }
            },
            error: function (e) {
                debugger;
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    var showClassFeeData = function (result) {
        var _type = $("input[name='Tab']:checked").data('value');

        var view = "classfeedetails";
        $("#tblClassFeeDetails").dataTable({
            data: result,
            'destroy': true,
            columns: [
                {
                    'title': 'Action',
                    'data': 'Action',
                    'render': function (data, type, row) {
                        return `<div style='display:flex'>
                         @if (actions.Contains("edit"))
                         {
                        <a href='#' class='btn btn-info' onclick='editClassFee("${row.BatchClassId}","${row.Batch}","${row.Class}","${row.Faculty}")'>Edit
                        </a> } &nbsp;
                         @if (actions.Contains("delete"))
                         {
                        <a href='#' class='btn btn-info' onclick='deleteClassFee("${row.BatchClassId}","${row.Batch}","${row.Class}","${row.Faculty}","${_type}")'>Delete
                        </a> } &nbsp
                        @if (actions.Contains("view"))
                        {
                        <a href='#' class='btn btn-info' onclick='editClassFee("${row.BatchClassId}","${row.Batch}","${row.Class}","${row.Faculty}","${view}")'>View
                        </a> } </div>`;
                    },
                    'sortable': false,
                },
                {
                    'title': 'SN',
                    'data': 'SN',
                    'render': function (data, type, row, meta) {
                        return "<span>" + (meta.row + 1) + "</span>";
                    }
                },

                {
                    'title': 'Batch',
                    'data': 'Batch'
                },

                {
                    'title': 'Class',
                    'data': 'Class'
                },
                {
                    'title': 'Faculty',
                    'data': 'Faculty'
                },
                {
                    'title': 'FeeStructureName',
                    'data': 'FeeStructureName'
                },
                {
                    'title': 'StudentType',
                    'data': 'StudentType'
                },
                {
                    'title': 'FeeName',
                    'data': 'FeeName'
                },
                {
                    'title': 'Amount',
                    'data': 'Amount'
                },
                {
                    'title': 'Refundable',
                    'data': 'Refundable'
                },

            ]
        });
        debugger;

        $("#divClassFeeDetails .titlename").html("List of Class Fee Details");


    }

    var showDayOffData = function (result) {
        debugger;
            $("#tblDayOff").dataTable({
                data: result,
                'destroy': true,
                columns: [
                    {
                        'title': 'Action',
                        'data': 'Action',
                        'render': function (data, type, row) {
                            return `<div style='display:flex'>
                                @if(actions.Contains("edit"))
                                { 
                                    <a href='#' onclick='editDayOff("${row.DayOffId}","${row.Batch}","${row.Title}","${row.DateFrom}","${row.DateTo}")' title='edit'>
                                    <img src='/Content/images/edit3.png' style='width:30px;height:30px;' />
                                    </a> } &nbsp
                                @if (actions.Contains("delete"))
                                {
                                    <a href='#' onclick='deleteDayOff("${row.DayOffId}","${row.Batch}","${row.Title}","${row.DateFrom}","${row.DateTo}")' title='delete'>
                                    <img src='/Content/images/delete.png' style='width:30px;height:30px;' />
                                    </a> } </div>`;
                        },
                        'sortable': false,
                    },
                    {
                        'title': 'SN',
                        'data': 'SN',
                        'render': function (data, type, row, meta) {
                            return "<span>" + (meta.row + 1) + "</span>";
                        }
                    },

                    {
                        'title': 'Batch',
                        'data': 'Batch'
                    },

                    {
                        'title': 'Department',
                        'data': 'Department'
                    },
                    {
                        'title': 'Faculty',
                        'data': 'Faculty'
                    },
                    {
                        'title': 'Class',
                        'data': 'Class'
                    },
                    {
                        'title': 'Title',
                        'data': 'Title'
                    },
                    {
                        'title': 'DateFrom',
                        'data': 'DateFrom'
                    },
                    {
                        'title': 'DateTo',
                        'data': 'DateTo'
                    },
                    {
                        'title': 'TotalDays',
                        'data': 'TotalDays'
                    },

                ]
            });
            debugger;

            $("#divDayOff .titlename").html("List of Holidays ");

    }


    var showResultData = function (result) {
        debugger;

        var _type = $("input[name='Tab']:checked").data('value');
        var tblBody = "";
        var tblHeader = "<th>SN</th>";
        debugger
        if (result != 0) {
                for (var c in result[0]) {
                    debugger;
                    if (c != "BatchId" && c != "ClassId" && c != "FacultyId" && c != "SectionId" && c != "FeeStructureId" && c != "CountryId" && c != "StateId" && c != "StudentTypeId" && c != "ResponseTextId" && c !="StartDateId") {
                        tblHeader += "<th>" + c + "</th>";
                    }
                }
                tblHeader += "<th style='width:100px;'>Action</th>";
                for (var r in result) {
                    var SN = (parseInt(r) + 1);
                    tblBody += "<tr style='text-align:center'><td>" + SN + "</td>";
                    for (var c in result[r]) {
                        if (c != "BatchId" && c != "ClassId" && c != "FacultyId" && c != "SectionId" && c != "FeeStructureId" && c != "CountryId" && c != "StateId" && c != "StudentTypeId" && c != "ResponseTextId" && c != "StartDateId") {
                            tblBody += "<td>" + result[r][c] + "</td>";
                        }
                    }
                    debugger;
                    if (result.length == 1 && _type == "BatchDetails") {
                        if (result[r]['Status'] == "Disable") {
                            if ('@actions.Contains("delete")' == 'True') {
                                tblBody += "<td><a href='#' onclick='deleteBatch(\"" + result[r]['BatchId'] + "\",\"" + result[r]['FromYear'] + "\",\"" + result[r]['ToYear'] + "\",\"" + _type + "\" ) '>Delete</a></td>";
                            }
                        }
                        else {
                            if ('@actions.Contains("edit")' == 'True') {
                                tblBody += "<td><a href='#' onclick='editBatchDetails(\"" + result[r]['BatchId'] + "\",\"" + result[r]['FromYear'] + "\",\"" + result[r]['ToYear'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='upgradeBatch(\"" + result[r]['FromYear'] + "\",\"" + result[r]['ToYear'] + "\",\"" + _type + "\")'>Upgrade</a></td>";
                            }
                        }
                        tblBody += "</tr>";
                        $("#tblBatch thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblBatch tbody").html(tblBody);
                    }
                    else if (result.length > 1 && _type == "BatchDetails") {
                        if (result[r]['Status'] == "Disable") {
                            if ('@actions.Contains("delete")' == 'True') {
                                tblBody += "<td><a href='#' onclick='deleteBatch(\"" + result[r]['BatchId'] + "\",\"" + result[r]['FromYear'] + "\",\"" + result[r]['ToYear'] + "\",\"" + _type + "\" ) '>Delete</a></td>";
                            }
                        }
                        else {
                            if ('@actions.Contains("edit")' == 'True') {
                                tblBody += "<td><a href='#' onclick='upgradeBatch(\"" + result[r]['FromYear'] + "\",\"" + result[r]['ToYear'] + "\",\"" + _type + "\")'>Upgrade</a></td>";
                            }
                        }
                        tblBody += "</tr>";
                        $("#tblBatch thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblBatch tbody").html(tblBody);
                    }

                    else if (_type == "ClassDetails") {
                        tblBody += "<td><a href='#' onclick='updateClassDetails(\"" + result[r]['ClassId'] + "\",\"" + result[r]['ClassCode'] + "\",\"" + result[r]['ClassName'] +
                            "\",\"" + result[r]['ClassType'] + "\",\"" + result[r]['StudentLimit'] + "\",\"" + result[r]["FacultyId"] + "\") ' title='edit'><img src='/Content/images/edit3.png' style='width:30px;height:30px;' /></a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['ClassId'] + "\",\"" + result[r]['ClassName'] + "\",\"" + _type + "\") ' title='delete'><img src='/Content/images/delete.png' style='width:30px;height:30px;' /></a></td>";
                        tblBody += "</tr>";
                        $("#tblClassDetails thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblClassDetails tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Class details");
                    }
                    else if (_type == "FacultyDetails") {
                        tblBody += "<td><a href='#' onclick='updateFacultyDetails(\"" + result[r]['FacultyId'] + "\",\"" + result[r]['FacultyCode'] + "\",\"" + result[r]['FacultyName'] + "\") ' title='edit'><img src='/Content/images/edit3.png' style='width:30px;height:30px;' /></a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['FacultyId'] + "\",\"" + result[r]['FacultyName'] + "\",\"" + _type + "\") ' title='delete'><img src='/Content/images/delete.png' style='width:30px;height:30px;' /></a></td>";
                        tblBody += "</tr>";
                        $("#tblFacultyDetails thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblFacultyDetails tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Faculty details");
                    }
                    else if (_type == "SectionDetails") {
                        tblBody += "<td><a href='#' onclick='updateSectionDetails(\"" + result[r]['SectionId'] + "\",\"" + result[r]['SectionName'] + "\",\"" + result[r]['StudentLimit'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['SectionId'] + "\",\"" + result[r]['SectionName'] + "\",\"" + _type + "\") '>Delete</a></td>";
                        tblBody += "</tr>";
                        $("#tblSectionDetails thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblSectionDetails tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Section details");
                    }
                    else if (_type == "StartDate") {
                        tblBody += "<td><a href='#' onclick='updateStartDate(\"" + result[r]['StartDateId'] + "\",\"" + result[r]['Batch'] + "\",\"" + result[r]['Date'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteStartDate(\"" + result[r]['StartDateId'] + "\",\"" + result[r]["Date"] + "\",\"" + result[r]["Batch"] + "\",\"" + _type + "\") '>Delete</a></td>";
                        tblBody += "</tr>";
                        $("#tblStartDate thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblStartDate tbody").html(tblBody);
                    }
                    else if (_type == "FeeStructureDetails") {
                        if (result[r]['FeeStructureName'] == "Initial" || result[r]['FeeStructureName'] == "Yearly" || result[r]['FeeStructureName'] == "Extra") {
                            tblBody += "<td></td>";

                        }
                        else {

                            tblBody += "<td><a href='#' onclick='updateFeeStructureDetails(\"" + result[r]['FeeStructureId'] + "\",\"" + result[r]['FeeStructureName'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['FeeStructureId'] + "\",\"" + result[r]['FeeStructureName'] + "\",\"" + _type + "\") '>Delete</a></td>";
                        }
                        tblBody += "</tr>";
                        $("#tblFeeStructureDetails thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblFeeStructureDetails tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Fee Structure");
                    }
                    else if (_type == "CountryDetails") {
                        tblBody += "<td><a href='#' onclick='UpdateCountryDetails(\"" + result[r]['CountryId'] + "\",\"" + result[r]['CountryName'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['CountryId'] + "\",\"" + result[r]['CountryName'] + "\",\"" + _type + "\") '>Delete</a></td>";
                        tblBody += "</tr>";
                        $("#tblCountryDetails thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblCountryDetails tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Country");
                    }
                    else if (_type == "ResponseText") {
                        tblBody += "<td><a href='#' onclick='UpdateResponseText(\"" + result[r]['ResponseTextId'] + "\",\"" + result[r]['ResponseText'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['ResponseTextId'] + "\",\"" + result[r]['ResponseText'] + "\",\"" + _type + "\") '>Delete</a></td>";
                        tblBody += "</tr>";
                        $("#tblResponseText thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblResponseText tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Response Text");
                    }
                    else if (_type == "StateDetails") {
                        tblBody += "<td><a href='#' onclick='UpdateStateDetails(\"" + result[r]['StateId'] + "\",\"" + result[r]['StateName'] + "\",\"" + result[r]['CountryName'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['StateId'] + "\",\"" + result[r]['StateName'] + "\",\"" + _type + "\") '>Delete</a></td>";
                        tblBody += "</tr>";
                        $("#tblStateDetails thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblStateDetails tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all State");
                    }
                    else if (_type == "StudentType") {
                        if (result[r]['StudentTypeName'] == "General") {
                            tblBody += "<td></td>";

                        }
                        else {
                            tblBody += "<td><a href='#' onclick='UpdateStudentType(\"" + result[r]['StudentTypeId'] + "\",\"" + result[r]['StudentTypeName'] + "\") '>Edit</a>&nbsp;|&nbsp;<a href='#' onclick='deleteSettings(\"" + result[r]['StudentTypeId'] + "\",\"" + result[r]['StudentTypeName'] + "\",\"" + _type + "\") '>Delete</a></td>";
                        }
                        tblBody += "</tr>";
                        $("#tblStudentType thead").html("<tr>" + tblHeader + "</tr>");
                        $("#tblStudentType tbody").html(tblBody);
                        $("#tbl" + _type + " .titlename").html("List of all Student Type");
                    }

                }

        }
        else {

            $("#tbl" + _type + " .titlename").html("");
            $("#tbl" + _type + " thead").html("");
            $("#tbl" + _type + " tbody").html("");
        }
    }




    var editClassFee = function (id, batch, _class, faculty, view) {
        debugger;
        hideAll();
        $("#formClassFee").show();
        $("#formFeeClassDetails").find("input[type=text],input[type=hidden],textarea,select").val("");
        $("#classfeeid").val("");
        $('#tblFee').empty();
        $('#formClassFee [name="BatchClassId"]').val(id);
        $.ajax({
            url: "/api/GetClassBatchFaculty",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                var classDetails = result[0];
                var batchDetails = result[1];
                var facultyDetails = result[2];
                if (classDetails != undefined) {
                    debugger;
                    var v = "<option value=''>--Select--</option>";
                    for (var i in classDetails) {
                        v += "<option value=" + classDetails[i]['ClassName'] + ">" + classDetails[i]['ClassName'] + "</option>";
                    }
                    $("#selectClass").html(v);
                    $("#selectClass").val(_class);
                }
                if (batchDetails != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in batchDetails) {
                        v += "<option value='" + batchDetails[i]['FromYear'] + "-" + batchDetails[i]['ToYear'] + "'>" + batchDetails[i]['FromYear'] + "-" + batchDetails[i]['ToYear'] + "</option>";
                    }
                    $("#selectBatch").html(v);
                    $("#selectBatch").val(batch);
                }
                if (facultyDetails != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in facultyDetails) {
                        v += "<option value=" + facultyDetails[i]['FacultyName'] + ">" + facultyDetails[i]['FacultyName'] + "</option>";
                    }
                    $("#selectFaculty").html(v);
                    $("#selectFaculty").val(faculty);
                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
        $('#formClassFee [name="Batch"]').val(batch);
        $('#formClassFee [name="Class"]').val(_class);
        $('#formClassFee [name="Faculty"]').val(faculty);
        debugger;
        $.ajax({
            url: "/api/GetClassAllFeeDetails/",
            method: "GET",
            data: {
                BatchClassId: id,
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var i = 0;
                for (var r in result) {
                    var html = `<h4>Fee Structure :${result[r][0]["FeeStructureName"]}</h4>`;
                    html += `<table class="table table-bordered">`;
                    html += `<thead><th style='width:20px;text-align:center;'>&nbsp;</th><th>Student Type<th style='width:70px;'>FeeName</th><th style='width:100px;'>Amount</th><th style='width:100px;'>Refundable</th></thead>`;
                    html += ` <tbody class='rowTable'>`;

                    debugger;
                    if (view != undefined) {
                        for (var c in result[r]) {
                            debugger;
                            if (result[r][c]["IsChecked"] == "True") {
                                html += `<tr>`;
                                html += `<td  style='width:20px;'><input type='checkbox' class='checktr' name='ClassFeeManagement[${i}][IsChecked]' value='true'  checked disabled/><input type='hidden' class='StructureName' name='ClassFeeManagement[${i}][FeeStructureName]' value='${result[r][c]["FeeStructureName"]}' /><input type='hidden' name='ClassFeeManagement[${i}][FeeId]' value='${result[r][c]["FeeId"]}' /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control StudentType'  name='ClassFeeManagement[${i}][StudentType]' value="${result[r][c]['StudentType']}" readonly /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control FeeName'  name='ClassFeeManagement[${i}][FeeName]' value="${result[r][c]['FeeName']}" readonly /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Amount' name='ClassFeeManagement[${i}][Amount]' value="${result[r][c]['Amount']}" readonly /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Refundable' name='ClassFeeManagement[${i}][Refundable]' value=" ${result[r][c]['Refundable']}" readonly /></td>`;
                                html += `</tr>`;
                            }
                            else {
                                html += `<tr>`;
                                html += `<td  style='width:20px;'><input type='checkbox' class='checktr' name='ClassFeeManagement[${i}][IsChecked]' value='true' disabled/><input type='hidden' class='StructureName' name='ClassFeeManagement[${i}][FeeStructureName]' value='${result[r][c]["FeeStructureName"]}' /><input type='hidden' name='ClassFeeManagement[${i}][FeeId]' value='${result[r][c]["FeeId"]}' /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control StudentType'  name='ClassFeeManagement[${i}][StudentType]' value="${result[r][c]['StudentType']}" readonly /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control FeeName'  name='ClassFeeManagement[${i}][FeeName]' value="${result[r][c]['FeeName']}" readonly /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Amount' name='ClassFeeManagement[${i}][Amount]' value="${result[r][c]['Amount']}" readonly /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Refundable' name='ClassFeeManagement[${i}][Refundable]' value=" ${result[r][c]['Refundable']}" readonly /></td>`;
                                html += `</tr>`;
                            }
                            i++;

                        }
                        html += `</tbody>`;
                        html += `</table>`;
                        html += `<br/>`;
                        $("#tblFee").append(html);
                        $('#formClassFee select').attr('disabled', true);
                        $("#titleFormClassFee").html("Class " + _class + " Fee Details");
                        $("#classfeefooter").hide();

                    }
                    else {
                        for (var c in result[r]) {
                            debugger;
                            if (result[r][c]["IsChecked"] == "True") {
                                html += `<tr>`;
                                html += `<td  style='width:20px;'><input type='checkbox' class='checktr' name='ClassFeeManagement[${i}][IsChecked]' value='true'  checked /><input type='hidden' class='StructureName' name='ClassFeeManagement[${i}][FeeStructureName]' value='${result[r][c]["FeeStructureName"]}' /><input type='hidden' name='ClassFeeManagement[${i}][FeeId]' value='${result[r][c]["FeeId"]}' /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control StudentType'  name='ClassFeeManagement[${i}][StudentType]' value="${result[r][c]['StudentType']}" readonly /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control FeeName'  name='ClassFeeManagement[${i}][FeeName]' value="${result[r][c]['FeeName']}" readonly /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Amount' name='ClassFeeManagement[${i}][Amount]' value="${result[r][c]['Amount']}" /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Refundable' name='ClassFeeManagement[${i}][Refundable]' value=" ${result[r][c]['Refundable']}" readonly /></td>`;
                                html += `</tr>`;
                            }
                            else {
                                html += `<tr>`;
                                html += `<td  style='width:20px;'><input type='checkbox' class='checktr' name='ClassFeeManagement[${i}][IsChecked]' value='true'/><input type='hidden' class='StructureName' name='ClassFeeManagement[${i}][FeeStructureName]' value='${result[r][c]["FeeStructureName"]}' /><input type='hidden' name='ClassFeeManagement[${i}][FeeId]' value='${result[r][c]["FeeId"]}' /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control StudentType'  name='ClassFeeManagement[${i}][StudentType]' value="${result[r][c]['StudentType']}" readonly /></td>`;
                                html += `<td style='width:70px;'><input type="text" class='form-control FeeName'  name='ClassFeeManagement[${i}][FeeName]' value="${result[r][c]['FeeName']}" readonly /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Amount' name='ClassFeeManagement[${i}][Amount]' value="${result[r][c]['Amount']}" /></td>`;
                                html += `<td style='width:100px;'><input type='text' class='form-control Refundable' name='ClassFeeManagement[${i}][Refundable]' value=" ${result[r][c]['Refundable']}" readonly /></td>`;
                                html += `</tr>`;
                            }
                            i++;

                        }
                        html += `</tbody>`;
                        html += `</table>`;
                        html += `<br/>`;
                        $("#tblFee").append(html);
                        $("#classfeefooter").show();
                        $('#formClassFee select').attr('disabled', true);

                        $('#formClassFee select').attr('readonly', false);
                        $("#titleFormClassFee").html("Edit Class " + _class + " Fee");
                        $("#btnSaveClassFeeDetails").val("Update");
                    }
                }

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })

    }


    var upgradeBatch = function (fromyear, toyear, type) {
        debugger;
        var FromYear = parseInt(fromyear) + 1;
        var ToYear = parseInt(toyear) + 1;
        var companyid=@Session["CompanyId"];
        saveBatch(FromYear, ToYear, companyid, type);

    }
    $("#btnSaveBatch").on('click', function (e) {
        debugger;
        e.preventDefault();
        var FromYear = $("#fromYear").val();
        var ToYear = $("#toYear").val();
        var companyid =@Session["CompanyId"];
        saveBatch(FromYear, ToYear, companyid, "BatchDetails");
    })
    var saveBatch = function (FromYear, ToYear,companyid, type) {
        debugger;
        $.ajax({
            url: "/api/PostBatchDetails",
            method: "POST",
            data: { FromYear: FromYear, ToYear: ToYear, CompanyId: companyid },
            dataType: "json",
            success: function (result) {
                debugger;
                loadData(type, companyid);
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    $("#btnSaveStartDate").on('click', function (e) {
        e.preventDefault();
        debugger;
        var fd = $("#frmStartDate").serializeJSON();
         fd.CompanyId=@Session["CompanyId"];
        if (fd.Batch == '' || fd.Date == '') return;
        $.ajax({
            url: "/api/PostStartDate",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                $("input[type=text],select").val("");
                loadData("StartDate", '@Session["CompanyId"]');
                toastr.success("Added Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    function updateStartDate(id, batch, date) {
        $("#modalEditStartDate").modal('show');
        $("#modalEditStartDate [name='StartDateId']").val(id);
        $("#modalEditStartDate [name='Date']").val(date);
        $('.nepali-calendar').nepaliDatePicker();
        $.ajax({
            url: "/api/GetClassBatchFaculty",
            method: "GET",
            data:{
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var batchDetails = result[1];
                if (batchDetails != undefined) {
                    var v = "";
                    for (var i in batchDetails) {
                        v += "<option value='" + batchDetails[i]['FromYear'] + "-" + batchDetails[i]['ToYear'] + "'>" + batchDetails[i]['FromYear'] + " - " + batchDetails[i]['ToYear'] + "</option>";
                    }
                    $("#modalStartDateBatch").html(v);
                    $("#modalStartDateBatch").val(batch);
                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }

        })
    }

    function updateClassDetails(id, code, name, type, limit, facultyid) {
        debugger;
        $("#modalEditClass").modal('show');
        $("#modalEditClass [name='ClassId']").val(id);
        $("#modalEditClass [name='ClassName']").val(name);
        $("#modalEditClass [name='ClassCode']").val(code);
        $("#modalEditClass input[name='ClassType'][value=" + type + "]").prop('checked', true);
        $("#modalEditClass [name='StudentLimit']").val(limit);
        var id=@Session["CompanyId"];
        $.ajax({
            url: "/api/GetFaculty",
            method: "GET",
            data: {CompanyId:id},
            dataType: "json",
            success: function (result) {
                debugger;
                var id = result[0]["FacultyId"];
                debugger;
                if (result != undefined) {
                    var v = "<option disabled>--Select--</option>";
                    for (var i in result) {
                        v += "<option value=" + result[i]['FacultyId'] + ">" + result[i]['FacultyName'] + "</option>";
                    }
                    $("#modalClassFaculty").html(v);
                    $("#modalClassFaculty").val(facultyid);
                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
        debugger;
    }
    function UpdateCountryDetails(id, name) {
        $("#modalEditCountry").modal('show');
        $("#modalEditCountry [name='CountryId']").val(id);
        $("#modalEditCountry [name='CountryName']").val(name);

        $("#btnEditModalCountry").data('oldName', name);
    }
    function UpdateResponseText(id, text) {
        $("#modalEditResponsetext").modal('show');
        $("#modalEditResponsetext [name='ResonseTextId']").val(id);
        $("#modalEditResponsetext [name='Response']").val(text);

        $("#btnEditModalResponse").data('oldName', text);
    }
    function UpdateStudentType(id, name) {
        $("#modalEditStudentType").modal('show');
        $("#modalEditStudentType [name='StudentTypeId']").val(id);
        $("#modalEditStudentType [name='StudentTypeName']").val(name);

        $("#btnEditModalStudentType").data('oldName', name);
    }
    function updateFacultyDetails(id, code, name) {
        debugger;
        $("#modalEditFaculty").modal('show');
        $("#modalEditFaculty [name='FacultyId']").val(id);
        $("#modalEditFaculty [name='FacultyName']").val(name);
        $("#modalEditFaculty [name='FacultyCode']").val(code);
    }

    function editBatchDetails(id, from, to) {
        debugger;
        $("#modalEditBatch").modal('show');
        $("#modalEditBatch [name='BatchId']").val(id);
        $("#modalEditBatch [name='FromYear']").val(from);
        $("#modalEditBatch [name='ToYear']").val(to);
    }

    function updateSectionDetails(id, name, limit) {
        $("#modalEditSection").modal('show');
        $("#modalEditSection [name='SectionId']").val(id);
        $("#modalEditSection [name='SectionName']").val(name);
        $("#modalEditSection [name='StudentLimit']").val(limit);
    }

    function editDayOff(id, batch, title, datefrom, dateto) {
        debugger;
        hideAll();
        $("#formDayOff").show();
        $("#btnSaveDayOff").val("Update");
        $("#formDayOffDetails").find("input[type=text],input[type=hidden],select").val("");

        $("[name='Title']").val(title);
        $("[name='DateFrom']").val(datefrom);
        $("[name='DateTo']").val(dateto);
        $("[name='DayOffId']").val(id);
        $.ajax({
            url: "/api/GetAllDesignation",
            method: "GET",
            data:{
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var departments = result[0];
                if (departments != undefined) {
                    debugger;
                    var v = "";
                    for (var i in departments) {
                        v += "<option value=" + departments[i]['Department'] + ">" + departments[i]['Department'] + "</option>";
                    }
                    $("#dayoffDepartment").html(v);
                }

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })

        $.ajax({
            url: "/api/GetClassBatchFaculty",
            method: "GET",
            data:{
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                var classDetails = result[0];
                var batchDetails = result[1];
                var facultyDetails = result[2];

                if (batchDetails != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in batchDetails) {
                        v += "<option value='" + batchDetails[i]['FromYear'] + "-" + batchDetails[i]['ToYear'] + "'>" + batchDetails[i]['FromYear'] + " - " + batchDetails[i]['ToYear'] + "</option>";
                    }
                    $("#dayoffBatch").html(v);
                    $("#dayoffBatch").val(batch);

                }
                if (facultyDetails != undefined) {
                    var v = "";
                    for (var i in facultyDetails) {
                        v += "<option value=" + facultyDetails[i]['FacultyName'] + ">" + facultyDetails[i]['FacultyName'] + "</option>";
                    }
                    $("#dayoffFaculty").html(v);

                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
        $.ajax({
            url: "/api/GetSelectedDeptFaculty",
            method: "GET",
            data: {
                Id: id,
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                var department = result[0];
                var faculty = result[1];
                var _class = result[2];
                debugger;
                if (department.length != 0) {
                    for (var m in department) {
                        $("#dayoffDepartment option[value='" + department[m]['Department']+"']").prop('selected',true );
                     }
                }
                if (faculty.length != 0) {
                    for (var m in faculty) {
                        $("#dayoffFaculty option[value='" + faculty[m]['Faculty'] + "']").prop('selected', true);
                    }

                }

                var fd = $("#formDayOffDetails").serializeJSON();
                $("#dayoffClass").attr('disabled', false);

                fd.CompanyId=@Session["CompanyId"];
                debugger;
                $.ajax({
                    url: "/api/GetAllClass",
                    method: "POST",
                    data: fd,
                    //cache: false,
                    //contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (result) {
                        debugger;
                        // var count = result.length;
                        var v = "";
                        for (var r in result) {
                            for (var m in result[r]) {
                                v += "<option value=" + result[r][m]["ClassName"] + ">" + result[r][m]["ClassName"] + "</option>";
                            }
                        }
                        $("#dayoffClass").html(v);
                        if (_class.length != 0) {
                            debugger;
                            for (var m in _class) {
                                $("#dayoffClass option[value='" + _class[m]['Class'] + "']").prop('selected', true);
                            }
                        }
                    },
                    error: function (e) {
                        console.error(e);
                        alert(e.statusText);
                    }
                })

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })

    }

    function UpdateStateDetails(id, state, country) {
        debugger;
        $("#modalEditState").modal('show');
        $.ajax({
            url: "/api/GetAllCountryList",
            method: "GET",
            data:{
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                if (result != undefined) {
                    debugger;
                    var v = "<option>--Select--</option>";
                    for (var i in result) {
                        v += "<option value =" + result[i]['CountryName'] + ">" + result[i]['CountryName'] + "</option>";
                    }
                    $("#modalcountryname").html(v);
                    $("#modalcountryname").val(country);
                }

                debugger;
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        });
        $('#modalEditState [name="CountryName"]').val(country);
        $("#modalEditState [name='StateId']").val(id);
        $("#modalEditState [name='StateName']").val(state);
    }
    function updateFeeStructureDetails(id, value) {
        $("#modalEditFeeStructure").modal('show');
        $("#modalEditFeeStructure [name='FeeStructureId']").val(id);
        $("#modalEditFeeStructure [name='FeeStructureName']").val(value);

        $("#btnEditModalFeeStructure").data('oldvalue', value);
    }



    function updateFeeDetails(id, structure, name, amount, refundable, StudentType) {
        debugger;
        $("#modalEditFee").modal('show');
        $.ajax({
            url: "/api/GetFeeStructure/",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var v = "";
                for (var d in result) {
                    v += "<option>" + result[d].FeeStructureName + "</option>";
                }
                $("#selectmodalFeeStructure").html(v);
                $("#selectmodalFeeStructure").val(structure);
                debugger;
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        });
        $('#modalEditFee [name="FeeStructureName"]').val(structure);
        $.ajax({
            url: "/api/GetScholarshipAndStudentType",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                var studenttype = result[1];
                debugger;
                if (studenttype != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in studenttype) {
                        v += "<option value=" + studenttype[i]['StudentTypeName'] + ">" + studenttype[i]['StudentTypeName'] + "</option>";
                    }
                    $("#selectmodalStudentType").html(v);
                    $("#selectmodalStudentType").val(StudentType);
                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        });
        $('#modalEditFee [name="StudentType"]').val(StudentType);
        debugger;
        $('#modalEditFee [name = "FeeId"]').val(id);
        $('#modalEditFee [name = "FeeName"]').val(name);
        $('#modalEditFee [name = "Amount"]').val(amount);
        $('#modalEditFee [name = "Refundable"]').val(refundable);

    }

    ////////////////----------code for deleting values of setting-------------////////////////////////////

    var deleteBatch = function (id, from, to, type) {
        debugger;

       var companyId=@Session["CompanyId"];
           swal({
            title: "Do you want to delete  batch " + from + "-" + to + "?",
            text: "You will not be able to restore the data!",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willDelete) => {
            if (willDelete) {
                debugger;
                deleteGeneral(type, id, undefined, undefined, companyId);


            }
        })
    }

    var deleteDayOff = function (id, batch, title,datefrom, dateto) {
        debugger;


         var companyId=@Session["CompanyId"];
           swal({
               title: "Do you want to delete holiday for Batch: " + batch + ", Title:  " + title + ", From: " + datefrom + ", To:  " + dateto + "  ?",
            text: "You will not be able to restore the data!",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willDelete) => {
            if (willDelete) {
                debugger;
                deleteGeneral('DayOffDetails', id, undefined, undefined, companyId);


            }
        })

    }

    var deleteSettings = function (id, name, type) {
        debugger;
         var companyId=@Session["CompanyId"];
        if (type == "ResponseText") {
            swal({
                title: "Do you want to delete " + type + "-" + name + "?",
                text: "You will not be able to restore the data!",
                icon: "warning",
                buttons: true,
                dangerMode: true
            }).then((willDelete) => {
                if (willDelete) {
                    debugger;
                    deleteGeneral(type, id, name, undefined, companyId);


                }
            })
        }


        else {
            swal({
                title: "Do you want to delete " + type + " of " + name + "?",
                text: "You will not be able to restore the data!",
                icon: "warning",
                buttons: true,
                dangerMode: true
            }).then((willDelete) => {
                if (willDelete) {
                    debugger;
                    deleteGeneral(type, id, name, undefined, companyId);


                }
            })

        }




    }

    var deleteStartDate = function (id, date, batch, type) {
          var companyId =@Session["CompanyId"];
        swal({
            title: "Do you want to delete  StartDate: " + date + " of Batch : " + batch + " ?",
            text: "You will not be able to restore the data!",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willDelete) => {
            if (willDelete) {
                debugger;
                deleteGeneral(type, id, undefined, undefined, companyId);


            }
        })

    }

    var deleteClassFee = function (id, batch, _class, faculty, type) {
        debugger;
        var companyId =@Session["CompanyId"];
        swal({
            title: "Do you want to delete Fee details of  Batch: " + batch + " Class: " + _class + "  Faculty: " + faculty + " ?",
            text: "You will not be able to restore the data!",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willDelete) => {
            if (willDelete) {
                debugger;
                deleteGeneral(type, id, undefined, undefined, companyId);


            }
        })

    }
    var deleteFee = function (id, name, type, structure) {
        debugger;
         var companyId=@Session["CompanyId"];
        swal({
            title: "Do you want to delete Fee " + name + " of type " + structure + "?",
            text: "You will not be able to restore the data!",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willDelete) => {
            if (willDelete) {
                debugger;
                deleteGeneral(type, id, name, structure, companyId);


            }
        })


    }

 var deleteGeneral = function (urlName,id,name,structure,companyId) {


        debugger;
        $.ajax({
            url: "/api/DeleteGeneralSetting",
            method: "POST",
            data: { urlName: urlName.toLowerCase(), id: id, name: name, structure: structure, CompanyId: companyId },
            dataType: "json",
            success: function (result) {
                debugger;

            toastr.success("Deleted successfully.");
                debugger;
                if (urlName == "FeeDetails") {
                    loadFeeData("FeeDetails", companyId);
                }
                else if (urlName == "CountryDetails") {
                    getAllCountry();
                    loadData(urlName, companyId);

                }
                else if (urlName == "DayOffDetails") {
                    loadData("DayOff",'@Session["CompanyId"]');
                    $("#divSummary").empty();
                    getTotalHoliday();
                }
                else {
                    loadData(urlName, companyId);
                }

            },

            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    $("#btnDeleteModal").on('click', function (e) {
        e.preventDefault();
        debugger;
        var urlName = $(this).data('url');
        var id = $(this).data('id');
        var name = $(this).data('name');
        var companyId=@Session["CompanyId"];
        var structure = $(this).data('structure');
        debugger;
        $.ajax({
            url: "/api/DeleteGeneralSetting",
            method: "POST",
            data: { urlName: urlName.toLowerCase(), id: id, name: name, structure: structure, CompanyId: companyId },
            dataType: "json",
            success: function (result) {
                debugger;
                $('#modalDelete').modal('hide');
                $('#modalInfo').modal('show');
                $('#modalInfo .modal-title').html("Success!");
                $('#modalInfo .modal-body').html("Deleted successfully.");
                debugger;
                if (urlName == "FeeDetails") {
                    loadFeeData("FeeDetails", companyId);
                }
                else if (urlName == "CountryDetails") {
                    getAllCountry();
                    loadData(urlName, companyId);

                }
                else if (urlName == "DayOffDetails") {
                    loadData("DayOff",'@Session["CompanyId"]');
                    $("#divSummary").empty();
                    getTotalHoliday();
                }
                else {
                    loadData(urlName, companyId);
                }
                ;
            },

            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })

    })

    $("#btnSaveDayOff").on('click', function (e) {
        e.preventDefault();
        $("#dayoffFaculty").attr("disabled", false);
        $("#dayoffClass").attr("disabled", false);
        var fd = $("#formDayOffDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        if (fd.Batch == '' || fd.Title == '' || fd.DateFrom == '' || fd.DateTo == '') {
            alert("Please provide Batch,Title,DateFrom,DateTo");
            return;
        }
        $.ajax({
            url: "/api/PostDayOff",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {

                    hideAll();
                    $("#divDayOff").show();
                    loadData("DayOff",'@Session["CompanyId"]');
                    $("#divSummary").empty();
                getTotalHoliday();
                toastr.success("Added Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })

    })

    $("#btnSaveClassDetails").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formClassDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        if (fd.ClassName == '' || fd.ClassCode == '' || fd.ClassType == '' || fd.Faculty == '') return;
        debugger;
        $.ajax({
            url: "/api/PostClassDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $("input[type=text]").val("");
                loadData("ClassDetails", '@Session["CompanyId"]');
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
        debugger;
    })

    $("#btnSaveFacultyDetails").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formFacultyDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.FacultyName == '' || fd.FacultyCode == '') return;
        $.ajax({
            url: "/api/PostFacultyDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $("input[type=text]").val("");
                loadData("FacultyDetails", fd.CompanyId)
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnSaveSectionDetails").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formSectionDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.SectionName == '' || fd.StudentLimit == '') return;
        $.ajax({
            url: "/api/PostSectionDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $("input[type=text]").val("");
                loadData("SectionDetails",fd.CompanyId)
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnSaveCountryDetails").on('click', function (e) {
        e.preventDefault();
        var fd = $("#formCountryDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.CountryName == '') return;
        $.ajax({
            url: "/api/PostCountryDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $("input[type=text]").val("");
                loadData("CountryDetails", fd.CompanyId);
                getAllCountry();
                toastr.success("Successfull");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnSaveResponseText").on('click', function (e) {
        e.preventDefault();
        var fd = $("#formResponseText").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.Response == '') return;
        $.ajax({
            url: "/api/PostResponseText",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $("textarea").val("");
                loadData("ResponseText", fd.CompanyId);
                toastr.success("Added Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnSaveStateDetails").on('click', function (e) {
        e.preventDefault();
        var fd = $("#formStateDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.CountryName == '' || fd.StateName == '') return;
        $.ajax({
            url: "/api/PostStateDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $("input[type=text]").val("");
                loadData("StateDetails", fd.CompanyId);
                toastr.success("Added Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })


    $("#btnSaveStudentType").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formstudenttype").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.StudentTypeName == '') return;
        $.ajax({
            url: "/api/PostStudentType",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                $("input[type=text]").val("");
                loadData("Studenttype", fd.CompanyId);
                toastr.success("Added Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })


    $("#btnSaveFeeStructureDetails").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formfeestructure").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.FeeStructureName == '') return;
        $.ajax({
            url: "/api/PostFeeStructure",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                $("input[type=text]").val("");
                loadData("FeeStructureDetails", fd.CompanyId);
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnSaveFeeDetails").on('click', function (e) {
        e.preventDefault();
        debugger;
        var fd = $("#formFeeDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        if (fd.FeeStructureName == '' || fd.FeeName == '' || fd.Amount == '' || fd.Refundable == '' || fd.StudentType == '') return;
        $.ajax({
            url: "/api/PostFeeDetails",
            method: "POST",
            data: fd,
            dataType: "JSON",
            success: function (result) {
                $("input[type=text],input[type=hidden]").val("");
                $('#selectFeeStructure option:first').prop('selected', true);
                $('#selectStudentType option:first').prop('selected', true);
                $('#selectRefundable option:first').prop('selected', true);
                loadFeeData("FeeDetails", fd.CompanyId);
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalFee").on('click', function (e) {
        e.preventDefault();
        var fd = $("#formModalFee").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.FeeStructureName == '' || fd.FeeName == '' || fd.Amount == '' || fd.Refundable == '' || fd.StudentType == '') return;
        $.ajax({
            url: "/api/PostFeeDetails",
            method: "POST",
            data: fd,
            dataType: "JSON",
            success: function (result) {
                debugger;
                $('#modalEditFee').modal('hide');

                loadFeeData("FeeDetails", fd.CompanyId);
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalFeeStructure").on('click', function (e) {
        debugger;
        e.preventDefault();
        var oldName = $(this).data('oldvalue');
        var newName = $("#modalFeeName").val();
        var companyid = @Session["CompanyId"];
        debugger;
        $.ajax({
            url: "/api/EditFeeStructure/",
            method: "POST",
            data: {
                OldName: oldName,
                NewName: newName,
                CompanyId: companyid
            },
            dataType: "json",
            success: function (result) {
                debugger;
                $('#modalEditFeeStructure').modal('hide');

                loadData("FeeStructureDetails", '@Session["CompanyId"]');
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                debugger;
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalSection").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formModalSectionDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        if (fd.SectionName == '' || fd.StudentLimit == '') return;
        $.ajax({
            url: "/api/PostSectionDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $('#modalEditSection').modal('hide');

                loadData("SectionDetails", fd.CompanyId);
                toastr.success("Updated Successfully");

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalStartDate").on('click', function (e) {
        e.preventDefault();
        var fd = $("#formModalStartDate").serializeJSON();
        if (fd.Batch == '' || fd.Date == '') return;
        $.ajax({
            url: "/api/PostStartDate",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                $('#modalEditStartDate').modal('hide');

                loadData("StartDate", '@Session["CompanyId"]');
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalState").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formModalStateDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        if (fd.StateName == '') return;
        $.ajax({
            url: "/api/PostStateDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $('#modalEditState').modal('hide');

                loadData("StateDetails", fd.CompanyId);
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalCountry").on('click', function (e) {
        debugger;
        e.preventDefault();
        var oldName = $(this).data('oldName');
        var newName = $("#modalCountryName").val();
        var companyid=@Session["CompanyId"];
        debugger;
        if (newName == '') return;
        $.ajax({
            url: "/api/EditCountryDetails/",
            method: "POST",
            data: {
                OldName: oldName,
                NewName: newName,
                CompanyId: companyid
            },
            dataType: "json",
            success: function (result) {
                $('#modalEditCountry').modal('hide');

                loadData("CountryDetails", companyid);
                toastr.success("Updated Successfull");

               // getAllCountry();
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalResponse").on('click', function (e) {
        debugger;
        e.preventDefault();
        var oldName = $(this).data('oldName');
        var newName = $("#modalresponsetext").val();
        var companyid=@Session["CompanyId"];
        debugger;
        if (newName == '') return;
        $.ajax({
            url: "/api/EditResponseText/",
            method: "POST",
            data: {
                OldName: oldName,
                NewName: newName,
                CompanyId: companyid
            },
            dataType: "json",
            success: function (result) {
                $('#modalEditResponsetext').modal('hide');

                loadData("ResponseText", companyid);
                toastr.success("Updted Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })


    $("#btnEditModalStudentType").on('click', function (e) {
        debugger;
        e.preventDefault();
        var oldName = $(this).data('oldName');
        var newName = $("#modalStudentType").val();
        var id=@Session["CompanyId"];
        debugger;
        if (newName == '') return;
        $.ajax({
            url: "/api/EditStudentType/",
            method: "POST",
            data: {
                OldName: oldName,
                NewName: newName,
                CompanyId:id
            },
            dataType: "json",
            success: function (result) {
                $('#modalEditStudentType').modal('hide');

                loadData("StudentType", id);
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalBatch").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formModalBatchDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.FromYear == '' || fd.ToYear == '') return;
        $.ajax({
            url: "/api/EditBatchDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $('#modalEditBatch').modal('hide');

                loadData("BatchDetails", fd.CompanyId);
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })

    })

    $("#btnEditModalFaculty").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formModalFacultyDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        if (fd.FacultyName == '' || fd.FacultyCode == '') return;
        $.ajax({
            url: "/api/PostFacultyDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                $('#modalEditFaculty').modal('hide');

                loadData("FacultyDetails", '@Session["CompanyId"]');
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnEditModalClass").on('click', function (e) {
        debugger;
        e.preventDefault();
        var fd = $("#formModalClassDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        if (fd.ClassName == '' || fd.ClassCode == '' || fd.ClassType == '' || fd.Faculty == '') return;
        debugger;
        $.ajax({
            url: "/api/PostClassDetails",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                $('#modalEditClass').modal('hide');

                loadData("ClassDetails", '@Session["CompanyId"]');
                toastr.success("Updated Successfully");
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
        debugger;
    })

    $("#feeManagement").on('click', function () {
        debugger;
        getAllFeeStructure();
        $("#divfeestructure").hide();

        $("#divfeemanagement").show();
        getScholarandStudentType();
        loadFeeData("FeeDetails",@Session["CompanyId"]);
    })

    $("#feeStructure").on('click', function () {
        debugger;
        $("#divfeestructure").show();
        $("#divfeemanagement").hide();
    })

    var getAllFeeStructure = function () {
        debugger;
        $.ajax({
            url: "/api/GetFeeStructure",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var v = "<option value=''>--Select--</option>";
                for (var d in result) {
                    v += "<option>" + result[d]['FeeStructureName'] + "</option>";
                }
                $("#selectFeeStructure").html(v);
                $("#searchFeeStructureName").html(v);
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    var getScholarandStudentType = function () {
        var id=@Session["CompanyId"];
        $.ajax({
            url: "/api/GetScholarshipAndStudentType",
            method: "GET",
            data: {
                CompanyId:id
            },
            dataType: "json",
            success: function (result) {
                var studenttype = result[1];
                debugger;
                if (studenttype != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in studenttype) {
                        v += "<option value=" + studenttype[i]['StudentTypeName'] + ">" + studenttype[i]['StudentTypeName'] + "</option>";
                    }
                    $("#selectStudentType").html(v);
                    $("#searchStudentType").html(v);
                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    var getFeeDetails = function () {
        $.ajax({
            url: "/api/GetFeeDetails",
            method: "Get",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var i = 0;

                for (var r in result) {

                    if (result[r][0] != undefined) {
                        var title = result[r][0]["FeeStructureName"];
                        var html = `<h4>Fee Structure :${result[r][0]["FeeStructureName"]}</h4>`;
                        html += `<table class="table table-bordered">`;
                        html += `<thead><th style='width:20px;text-align:center;'>&nbsp;</th><th>Student Type</th><th style='width:70px;'>FeeName</th><th style='width:100px;'>Amount</th><th style='width:100px;'>Refundable</th></thead>`;
                        html += ` <tbody class='rowTable'>`;

                        debugger;

                        for (var c in result[r]) {

                            html += `<tr>`;
                            html += `<td  style='width:20px;'><input type='checkbox' class='checktr' name='ClassFeeManagement[${i}][IsChecked]' value='true'/><input type='hidden' class='StructureName' name='ClassFeeManagement[${i}][FeeStructureName]' value='${result[r][c]["FeeStructureName"]}' /><input type='hidden' class='StructureName' name='ClassFeeManagement[${i}][FeeId]' value='${result[r][c]["FeeId"]}' /></td>`;
                            html += `<td style='width:70px;'><input type="text" class='form-control StudentType'  name='ClassFeeManagement[${i}][StudentType]' value="${result[r][c]['StudentType']}" readonly/></td>`;
                            html += `<td style='width:70px;'><input type="text" class='form-control FeeName'  name='ClassFeeManagement[${i}][FeeName]' value="${result[r][c]['FeeName']}" readonly/></td>`;
                            html += `<td style='width:100px;'><input type='text' class='form-control Amount' name='ClassFeeManagement[${i}][Amount]' value="${result[r][c]['Amount']}" /></td>`;
                            html += `<td style='width:100px;'><input type='text' class='form-control Refundable' name='ClassFeeManagement[${i}][Refundable]' value=" ${result[r][c]['Refundable']}" readonly/></td>`;
                            html += `</tr>`;
                            i++;

                        }
                        html += `</tbody>`;
                        html += `</table>`;
                        html += `<br/>`;
                        $("#tblFee").append(html);
                    }
                    else {

                    }
                }
                debugger;


            }
        })
    }


    $("#btnSaveClassFeeDetails").on('click', function (e) {
        e.preventDefault();
        $('#formClassFee select').attr('disabled', false);
        debugger;
        var fd = $("#formFeeClassDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        debugger;
        var batch = $("#selectBatch").val();
        var _class = $("#selectClass").val();
        var faculty = $("#selectFaculty").val();
        debugger;
        if (fd.Batch == '' || fd.Class == '' || fd.Faculty == '') {
            alert("Please select batch,class,faculty");
            return;
        }
        debugger;
        $.ajax({
            url: "/api/PostClassFeeDetails",
            type: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                if (result == true) {

                        debugger;
                        $('#tblFee').empty();
                        debugger;
                        $('#formClassFee').modal('hide');
                        hideAll();
                        $("#divClassFeeDetails").show();
                    loadData("ClassFeeDetails", fd.CompanyId);
                    toastr.success("Operation Successfull");
                }
                else if (result == false) {
                    toastr.error("Fee Details for this class already exists");

                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    var getAllCountry = function () {

        $.ajax({
            url: "/api/GetAllCountryList",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                if (result != undefined) {
                    debugger;
                    var v = "<option>--Select--</option>";
                    for (var i in result) {
                        v += "<option value =" + result[i]['CountryName'] + ">" + result[i]['CountryName'] + "</option>";
                    }
                    $("#selectCountry").html(v);
                }

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    var getFaculty = function (id) {
        $.ajax({
            url: "/api/GetFaculty",
            method: "GET",
            data: {CompanyId:id},
            dataType: "json",
            success: function (result) {
                debugger;
                var id = result[0]["FacultyId"];
                debugger;
                if (result != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in result) {
                        v += "<option value=" + result[i]['FacultyId'] + ">" + result[i]['FacultyName'] + "</option>";
                    }
                    $("#selectClassFaculty").html(v);
                }
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    }

    var getClassBatchFaculty = function () {

        $.ajax({
            url: "/api/GetClassBatchFaculty",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var classDetails = result[0];
                var batchDetails = result[1];
                var facultyDetails = result[2];
                if (classDetails != undefined) {
                    debugger;
                    var v = "<option value=''>--Select--</option>";
                    for (var i in classDetails) {
                        v += "<option value=" + classDetails[i]['ClassName'] + ">" + classDetails[i]['ClassName'] + "</option>";
                    }
                    $("#selectClass").html(v);
                    $("#searchClass").html(v);
                    $("#searchDayoffClass").html(v);
                   // $("#dayoffClass").html(v);
                }
                if (batchDetails != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in batchDetails) {
                        v += "<option value='" + batchDetails[i]['FromYear'] + "-" + batchDetails[i]['ToYear'] + "'>" + batchDetails[i]['FromYear'] + " - " + batchDetails[i]['ToYear'] + "</option>";
                    }
                    $("#selectBatch").html(v);
                    $("#searchBatch").html(v);
                    $("#dayoffBatch").html(v);
                    $("#startDateBatch").html(v);
                    $("#searchDayoffBatch").html(v);
                }
                if (facultyDetails != undefined) {
                    var v =  "<option value=''>--Select--</option>";
                    for (var i in facultyDetails) {
                        v += "<option value=" + facultyDetails[i]['FacultyName'] + ">" + facultyDetails[i]['FacultyName'] + "</option>";
                    }
                   $("#selectFaculty").html(v);
                    $("#searchFaculty").html(v);
                    $("#dayoffFaculty").html(v);
                    $("#selectClassFaculty").html(v);
                    $("#searchDayoffFaculty").html(v);
                }
            }
        })
    }

    var loadFeeData = function (urlName,id) {
        debugger;
        $.ajax({
            url: "/api/GetSettingDetails",
            method: "Get",
            data: {
                urlName: urlName.toLowerCase(),
                CompanyId:id
            },
            dataType: "json",
            success: function (data) {
                showResult(data);
            },
            error: function (e) {
                debugger;
                console.error(e);
                alert(e.statusText);
            }
        })
    }
    var showResult = function (data) {
        var _type = "FeeDetails";
        $("#tblFeeDetails").dataTable({
            data: data,
            'destroy': true,
            columns: [
                {
                    'title': 'SN',
                    'data': 'SN',
                    'render': function (data, type, row, meta) {
                        return "<span>" + (meta.row + 1) + "</span>";
                    }
                },

                {
                    'title': 'FeeStructureName',
                    'data': 'FeeStructureName'
                },

                {
                    'title': 'FeeName',
                    'data': 'FeeName'
                },
                {
                    'title': 'Amount',
                    'data': 'Amount'
                },
                {
                    'title': 'Refundable',
                    'data': 'Refundable'
                },
                {
                    'title': 'StudentType',
                    'data': 'StudentType'
                },

                {
                    'title': 'Action',
                    'data': 'Action',
                    'render': function (data, type, row) {
                        return "<div style='display:flex'><a href='#' class='btn btn-info' onclick='updateFeeDetails(\"" + row.FeeId + "\",\"" + row.FeeStructureName + "\", \"" + row.FeeName + "\",\"" + row.Amount + "\",\"" + row.Refundable + "\",\"" + row.StudentType + "\") '>Edit</a>&nbsp<a href='#' class='btn btn-info' onclick='deleteFee(\"" + row.FeeId + "\",\"" + row.FeeName + "\",\"" + _type + "\",\"" + row.FeeStructureName + "\",\"" + row.StudentType + "\") '>Delete</a></div>";
                    },
                    'sortable': false,
                }
            ]
        });
        debugger;
        $("#feeDetails .titlename").html("List of all Fee Details");

    }
    $("#addClassFee").on('click', function (e) {
        debugger;
        e.preventDefault();
        hideAll();
        $("#tblFee").html("");
        getClassBatchFaculty();
        getFeeDetails();
        $('#formClassFee').trigger("reset");
        $("#formClassFee").show();
        $('#formClassFee select').attr('disabled', false);
        $("#formFeeClassDetails").find("input[type=text],input[type=hidden],textarea,select").val("");
        $("#classfeeid").val("");
        $("#classfeefooter").show();
        $("#btnSaveClassFeeDetails").val("Submit");
                })

    $("#addDayOff").on('click', function (e) {
        debugger;
        e.preventDefault();
        hideAll();
        $("#formDayOff").show();
        $("#btnSaveDayOff").val("Submit");
        $("#formDayOffDetails").find("input[type=text],input[type=hidden],select").val("");
        //$("#dayoffFaculty").attr("disabled", true);
        $("#dayoffClass").attr("disabled", true);
        $.ajax({
            url: "/api/GetClassBatchFaculty",
            method: "GET",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            dataType: "json",
            success: function (result) {
                debugger;
                var classDetails = result[0];
                var batchDetails = result[1];
                var facultyDetails = result[2];

                if (batchDetails != undefined) {
                    var v = "<option value=''>--Select--</option>";
                    for (var i in batchDetails) {
                        v += "<option value='" + batchDetails[i]['FromYear'] + "-" + batchDetails[i]['ToYear'] + "'>" + batchDetails[i]['FromYear'] + " - " + batchDetails[i]['ToYear'] + "</option>";
                    }
                    $("#dayoffBatch").html(v);
                }
                if (facultyDetails != undefined) {
                    var v = "";
                    for (var i in facultyDetails) {
                        v += "<option value=" + facultyDetails[i]['FacultyName'] + ">" + facultyDetails[i]['FacultyName'] + "</option>";
                    }

                    $("#dayoffFaculty").html(v);
                }
            }
        })
        getDepartment();
        $('.nepali-calendar').nepaliDatePicker();
        debugger;


    })
    $("#dayoffFaculty").on('click','option', function () {
        debugger;
        var fd = $("#formDayOffDetails").serializeJSON();
        fd.CompanyId=@Session["CompanyId"];
        $("#dayoffClass").attr('disabled', false);
        debugger;
        $.ajax({
            url: "/api/GetAllClass",
            method: "POST",
            data: fd,
            dataType: "json",
            success: function (result) {
                debugger;
                var v = "";
                for (var r in result) {
                    for (var m in result[r]) {
                        v += "<option value=" + result[r][m]["ClassName"] + ">" + result[r][m]["ClassName"] + "</option>";
                    }
                }
                $("#dayoffClass").html(v);

            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    });






    ///////////////////////////////////////////////////////////////////////////////////////////////////////
    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode != 46 && charCode > 31
            && (charCode < 48 || charCode > 57))
            return false;
        return true;
    }


    var hideAll = function () {
        $("#divBatchDetails").hide();
        $("#batchResult").hide();
        $("#divClassDetails").hide();
        $("#divFacultyDetails").hide();
        $("#divSectionDetails").hide();
        $("#divFeeStructureDetails").hide();
        $("#divfeemanagement").hide();
        $("#divClassFeeDetails").hide();
        $("#formClassFee").hide();
        $("#divDayOff").hide();
        $("#formDayOff").hide();
        $("#divCountryDetails").hide();
        $("#divStateDetails").hide();
        $("#divStudentType").hide();
        $("#divResponseText").hide();
        $("#divStartDate").hide();
        $("#StartDate").hide();
    }

    var cancel = function () {

        debugger;
        swal({
            title: "Are You sure You want to cancel it ?",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willCancel) => {
            if (willCancel) {
                hideAll();
                $("#divClassFeeDetails").show();



            }
        })
    }
    $("#btnCancelModal").on('click', function () {
        debugger;
        $('#modalCancel').modal('hide');
        hideAll();
        $("#divClassFeeDetails").show();
        debugger;
    });

    var cancelDay = function () {

        debugger;
        swal({
            title: "Are You sure You want to cancel it ?",
            icon: "warning",
            buttons: true,
            dangerMode: true
        }).then((willCancel) => {
            if (willCancel) {
                hideAll();
                $("#divDayOff").show();



            }
        })

        debugger;
    }

    var getDepartment = function () {
        $.ajax({
            url: "/api/GetAllDesignation",
            data: {
                CompanyId:@Session["CompanyId"],
            },
            method: "GET",
            dataType: "json",
            success: function (result) {
                debugger;
                var department = result[0];
                var designation = result[1];
                if (department != undefined) {
                    debugger;
                    var v = "";
                    for (var i in department) {
                        v += "<option value=" + department[i]['Department'] + ">" + department[i]['Department'] + "</option>";
                    }
                    $("#dayoffDepartment").html(v);
                }

            }
        })
    }

    $("#btnSearchClassFee").on('click', function (e) {
        e.preventDefault();
        var batch = $("#searchBatch").val();
        var _class = $("#searchClass").val();
        var faculty = $("#searchFaculty").val();
        debugger;
        if (batch == '' && _class == '' && faculty == '') {
            loadData("ClassFeeDetails",'@Session["CompanyId"]');
            return;
        }
        else {
            $.ajax({
                url: "/api/SearchClassFee",
                method: "GET",
                data: { Batch: batch, Class: _class, Faculty: faculty, CompanyId:@Session["CompanyId"] },
                dataType: "json",
                success: function (result) {
                    debugger;
                    showClassFeeData(result);

                },
                error: function (e) {
                    console.error(e);
                    alert(e.statusText);
                }
            })
        }
    })

    $("#btnSearchFee").on('click', function (e) {
        e.preventDefault();
        var feename = $("#searchFeeStructureName").val();
        var type = $("#searchStudentType").val();
        var id=@Session["CompanyId"];
        if (feename == '' && type == '') {
            loadFeeData("FeeDetails",@Session["CompanyId"]);
            return;
        }
        $.ajax({
            url: "/api/SearchFeeDetails",
            method: "GET",
            data: {
                FeeName: feename,
                Type: type,
                CompanyId:id
            },
            dataType: "json",
            success: function (result) {
                debugger;
                showResult(result);
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })

    $("#btnSearchDayOff").on('click', function (e) {
        e.preventDefault();
        debugger;
        var batch = $("#searchDayoffBatch").val();
        var department = $("#searchDayoffDepartment").val();
        var faculty = $("#searchDayoffFaculty").val();
        var _class = $("#searchDayoffClass").val();
        $.ajax({
            url: "/api/GetSearchedDayOff",
            method: "GET",
            data: {
                Batch: batch,
                Department: department,
                Faculty: faculty,
                Class: _class,
                CompanyId:@Session["CompanyId"]
            },
            dataType: "json",
            success: function (result) {
                showDayOffData(result);
            },
            error: function (e) {
                console.error(e);
                alert(e.statusText);
            }
        })
    })


    $("#searchFaculty").on('change', function (e) {
        debugger;
        e.preventDefault();
        var faculty = $("#searchFaculty").val();
        if (faculty != '') {
            $.ajax({
                url: "/api/GetClassByFaculty",
                method: "GET",
                data: {
                    Faculty: faculty
                },
                dataType: "json",
                success: function (result) {
                    var v = "<option selected='true' disabled='disabled'>--select--</option>";
                    for (var r in result) {
                        v += "<option value=" + result[r]["ClassName"] + ">" + result[r]["ClassName"] + "</option>";

                    }
                    $("#searchClass").html(v);
                },
                error: function (e) {
                    console.error(e);
                    alert(e.statusText);
                }
            })
        }
        else {
            getClassBatchFaculty();
        }

    })

    $("#selectClass").on('change', function (e) {
        debugger;
        e.preventDefault();
        var _class = $("#selectClass").val();
        if (_class != '') {

            $.ajax({
                url: "/api/GetFacultyByClass",
                method: "GET",
                data: {
                    Class: _class,
                    CompanyId:@Session["CompanyId"],
                },
                dataType: "json",
                success: function (result) {
                    debugger;
                    $("#selectFaculty").val(result[0]["FacultyName"]);
                },
                error: function (e) {
                    console.error(e);
                    alert(e.statusText);
                }
            })
        }
        else {
            $("#selectFaculty").val('');
        }
    })

    $("#searchDayoffFaculty").on('change', function (e) {
        e.preventDefault()
        var faculty = $("#searchDayoffFaculty").val();
        if (faculty != '') {
            $.ajax({
                url: "/api/GetClassByFaculty",
                method: "GET",
                data: {
                    Faculty: faculty
                },
                dataType: "json",
                success: function (result) {
                    var v = "<option selected='true' disabled='disabled'>--select--</option>";
                    for (var r in result) {
                        v += "<option value=" + result[r]["ClassName"] + ">" + result[r]["ClassName"] + "</option>";

                    }
                    $("#searchDayoffClass").html(v);
                },
                error: function (e) {
                    console.error(e);
                    alert(e.statusText);
                }
            })
        }
        else {
            getClassBatchFaculty();
        }
    })
    </script>


